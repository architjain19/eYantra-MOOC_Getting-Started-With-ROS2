<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js navy">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Creating a Second Turtle - e-Yantra Robotics Competition - ROS2 MOOC</title>


        <!-- Custom HTML head -->
        
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <!-- 
        <link rel="icon" href="../../favicon.svg">
         -->
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../../style.css">

        <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../../";
            var default_theme = "navy";
            <!-- window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "navy"; -->
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('navy')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item affix "><a href="../../welcome.html">Welcome to ROS2 MOOC !</a></li><li class="chapter-item affix "><li class="spacer"></li><li class="chapter-item expanded "><a href="../../GSWR2/GSWR2_welcome.html">Getting Started With ROS2</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../GSWR2/introduction_installation/intro_install.html">Introduction and Installation Setup</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../GSWR2/introduction_installation/humble_installation.html">ROS2 Humble Installation</a></li></ol></li><li class="chapter-item "><a href="../../GSWR2/ros2_design_concepts/ros2_design_concepts.html">ROS2 Design concepts</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../GSWR2/ros2_design_concepts/history_of_ros.html">1. History of ROS</a></li><li class="chapter-item "><a href="../../GSWR2/ros2_design_concepts/diff_ros_1_and_2.html">2. Differences between ROS1 and ROS2</a></li><li class="chapter-item "><a href="../../GSWR2/ros2_design_concepts/dds.html">3. Data Distribution Service (DDS)</a></li><li class="chapter-item "><a href="../../GSWR2/ros2_design_concepts/design_concepts.html">4. ROS2 Design Concepts</a></li></ol></li><li class="chapter-item "><a href="../../GSWR2/ros2_ecosystem_filesystem/ros2_ecosystem_filesystem.html">ROS2 Ecosystem and Filesystem</a></li><li class="chapter-item "><a href="../../GSWR2/ros2_comm_proto/ros2_comm_proto.html">ROS2 Communication Protocols</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../GSWR2/ros2_comm_proto/intro_to_comm_proto.html">1. Introduction to ROS2 Communication Protocols</a></li><li class="chapter-item "><a href="../../GSWR2/ros2_comm_proto/ros2_topics.html">2. ROS2 Topics</a></li></ol></li><li class="chapter-item "><a href="../../GSWR2/ros2_launch_files_running_ros_nodes/ros2_launch_files_running_ros_nodes.html">Launch files and running ROS nodes</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../GSWR2/ros2_launch_files_running_ros_nodes/1_ros_nodes.html">1. ROS Nodes</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../GSWR2/ros2_launch_files_running_ros_nodes/1_1_pub_sub.html">1.1. Writing a simple publisher and subscriber</a></li></ol></li><li class="chapter-item "><a href="../../GSWR2/ros2_launch_files_running_ros_nodes/2_launch_files.html">2. Launch files</a></li><li class="chapter-item "><a href="../../GSWR2/ros2_launch_files_running_ros_nodes/2_1_launchfile_pubsub.html">Creating Launch File for Publisher and Subscriber node</a></li></ol></li><li class="chapter-item "><a href="../../GSWR2/ros2_RQT_visualisation_CLI_tools/ros2_RQT_visualisation_CLI_tools.html">ros2 RQT visualisation CLI tools</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../GSWR2/ros2_RQT_visualisation_CLI_tools/1_RQT_visualisation.html">1. RQT visualisation</a></li><li class="chapter-item "><a href="../../GSWR2/ros2_RQT_visualisation_CLI_tools/2_CLI_tool.html">2. CLI Tools</a></li></ol></li><li class="chapter-item expanded "><a href="../../GSWR2/ros2_overview_of_turtlesim/ros2_overview_of_turtlesim.html">Overview Of Turtlesim</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../GSWR2/ros2_overview_of_turtlesim/1_key_components.html">Key Components</a></li><li class="chapter-item "><a href="../../GSWR2/ros2_overview_of_turtlesim/2_turtle_simulator.html">Turtle Simulator</a></li><li class="chapter-item expanded "><a href="../../GSWR2/ros2_overview_of_turtlesim/3_creating_second_turtle.html" class="active">Creating a Second Turtle</a></li><li class="chapter-item "><a href="../../GSWR2/ros2_overview_of_turtlesim/4_controlling_2D_turtle_twist_messages.html">Controlling a 2D Turtle with Twist Messages</a></li></ol></li></ol></li><li class="chapter-item "><div>Bonus Blogs!</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../bonus_blogs/git_github.html">Git and GitHub</a></li><li class="chapter-item "><a href="../../bonus_blogs/github_challenge.html">Github Challenge</a></li><li class="chapter-item "><a href="../../bonus_blogs/coding_std.html">Coding Standards</a></li></ol></li><li class="chapter-item "><li class="spacer"></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <!-- <html>
 	<head>
 	<style>
 		
 	@media only screen and (max-width: 600px) {
 	  .eyrc_ckt{
 			display:none;
 		}
 	}
 
 	</style>
 	</head>
 	<body>
 		<div>
 		<center></center>
 			<div style="display:flex; justify-content:space-between;padding:10px;padding-top:0">
 				<div >
 					<img src="https://www.e-yantra.org/img/eYantra_logo.svg" alt="e-yantra_logo" height="40px" style="padding:10px 15px;" />
 				</div>
 				<div>
 					<img src="https://raw.githubusercontent.com/kalindkaria/typora-md-assets/master/maze_bot/assets/eyrc-header.svg" height="80px"  class="eyrc_ckt">
 				</div>
 				<div style="font-weight:900;font-size:20px;text-align:center;padding:10px 15px">
 					e-Yantra<br>
 					Robotics Competition
 				</div>
 			</div>
 			
 		</div>
 	</body>
 </html>
 
 
 -->
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar autohide sticky bordered">
                    <div style="width:100%">
                        <html>
                        	<head>
                        	<style>
                        		
                        	@media only screen and (max-width: 600px) {
                        	  .eyrc_ckt{
                        			display:none;
                        		}
                        	}
                        
                        	</style>
                        	</head>
                        	<body>
                        		<div>
                        		<center></center>
                        			<div style="display:flex; justify-content:space-between;padding:10px;padding-top:0">
                        				<div >
                        					<img src="https://www.e-yantra.org/img/eYantra_logo.svg" alt="e-yantra_logo" height="40px" style="padding:10px 15px;" />
                        				</div>
                        				<div>
                        					<img src="https://raw.githubusercontent.com/kalindkaria/typora-md-assets/master/maze_bot/assets/eyrc-header.svg" height="80px"  class="eyrc_ckt">
                        				</div>
                        				<div style="font-weight:900;font-size:20px;text-align:center;padding:10px 15px">
                        					e-Yantra<br>
                        					Robotics Competition
                        				</div>
                        			</div>
                        			
                        		</div>
                        	</body>
                        </html>
                        
                        
                    </div>
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="space">Space</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">e-Yantra Robotics Competition - ROS2 MOOC</h1>

                    <div class="right-buttons">
                        <div id="navigation-buttons" type="button" onclick=" window.open('https://portal.e-yantra.org/profile_home', '_blank')">Home</div>
                        <div id="navigation-buttons" type="button" onclick=" window.open('https://discuss.e-yantra.org/', '_blank')">Forum</div>
                        <div id="navigation-buttons" type="button" onclick=" window.open('https://portal.e-yantra.org/logout', '_blank')">Logout</div>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h2 id="creating-a-second-turtle-and-controlling-it-with-ros2-topic-pub"><a class="header" href="#creating-a-second-turtle-and-controlling-it-with-ros2-topic-pub">Creating a Second Turtle and Controlling it with ros2 topic pub</a></h2>
<h2 id="overview"><a class="header" href="#overview">Overview</a></h2>
<p>This guide will walk you through the steps to create a second turtle in the Turtlesim simulation and control it using the <code>ros2 topic pub</code> command. You will also learn how to install and use <code>rqt</code> to interact with ROS services.</p>
<h2 id="step-by-step-guide"><a class="header" href="#step-by-step-guide">Step-by-Step Guide</a></h2>
<h2 id="method-1"><a class="header" href="#method-1">Method 1</a></h2>
<h3 id="step-1-install-rqt"><a class="header" href="#step-1-install-rqt">Step 1: Install rqt</a></h3>
<p>First, ensure your system's package list is updated and install all <code>rqt</code> related packages:</p>
<pre><code class="language-bash">sudo apt update
sudo apt install ~nros-humble-rqt*
</code></pre>
<h3 id="step-2-install-rqt"><a class="header" href="#step-2-install-rqt">Step 2: Install rqt</a></h3>
<p>To start Turtlesim, enter the following command in your terminal:</p>
<pre><code class="language-bash">ros2 run turtlesim turtlesim_node
</code></pre>
<p>This will open the Turtlesim window with a default turtle in the center.</p>
<h3 id="step-3-use-rqt-to-spawn-a-second-turtle"><a class="header" href="#step-3-use-rqt-to-spawn-a-second-turtle">Step 3: Use rqt to Spawn a Second Turtle</a></h3>
<h4 id="open-rqt"><a class="header" href="#open-rqt">Open rqt</a></h4>
<p>After installation, start rqt by simply typing:</p>
<pre><code class="language-bash">rqt
</code></pre>
<p>When you run 'rqt' for the first time, the window will be blank. Follow these steps to use the service caller plugin to spawn a second turtle:</p>
<h4 id="open-service-caller-plugin"><a class="header" href="#open-service-caller-plugin">Open Service Caller Plugin</a></h4>
<p>In the rqt window, go to the menu bar and select Plugins &gt; Services &gt; Service Caller.</p>
<h4 id="select-the-spawn-service"><a class="header" href="#select-the-spawn-service">Select the Spawn Service</a></h4>
<p>In the Service Caller panel, you will see a dropdown menu. Select the /spawn service. This is the service provided by Turtlesim to create a new turtle.</p>
<h4 id="configure-the-spawn-service"><a class="header" href="#configure-the-spawn-service">Configure the Spawn Service</a></h4>
<p>You will see fields to input the parameters for the service. Fill in the fields as follows:</p>
<ul>
<li>x : 5.0</li>
<li>y : 5.0</li>
<li>theta : 0.0</li>
<li>name : turtle2</li>
</ul>
<p>Click the Call button to send the request. If successful, you will see a new turtle appear on the screen at the specified coordinates.</p>
<h3 id="step-4-publish-velocity-commands-to-control-the-second-turtle"><a class="header" href="#step-4-publish-velocity-commands-to-control-the-second-turtle">Step 4: Publish Velocity Commands to Control the Second Turtle</a></h3>
<p>Open a new terminal and publish velocity commands to the second turtle's command topic using 'ros2 topic pub':</p>
<pre><code class="language-bash">ros2 topic pub /turtle2/cmd_vel geometry_msgs/msg/Twist "
{linear: {x: -2.0, y: -2.0, z: 0.0}, 
angular: {x: 0.0, y: 0.0, z: 1.0}}"
</code></pre>
<h4 id="explanation"><a class="header" href="#explanation">Explanation</a></h4>
<p>The 'ros2 topic pub' command publishes a single message to the specified topic. Here, you are sending a 'Twist' message to the '/turtle2/cmd_vel' topic with the following values:</p>
<ul>
<li>'linear' : Sets the linear velocity of the turtle.
<ul>
<li>
<ul>
<li>x : -3.0 (move backward)</li>
</ul>
</li>
<li>
<ul>
<li>y : -3.0 (move left, though Turtlesim typically only uses x for forward/backward movement)</li>
</ul>
</li>
<li>
<ul>
<li>z : 0.0 (no movement in the z direction)</li>
</ul>
</li>
</ul>
</li>
<li>'angular' : Sets the angular velocity of the turtle.
<ul>
<li>
<ul>
<li>x : 0.0 (no rotation around the x-axis)</li>
</ul>
</li>
<li>
<ul>
<li>y : 0.0 (no rotation around the y-axis)</li>
</ul>
</li>
<li>
<ul>
<li>z : 2.0 (rotate counter-clockwise around the z-axis)</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="method-2"><a class="header" href="#method-2">Method 2</a></h2>
<h3 id="step-1-start-the-turtlesim-node"><a class="header" href="#step-1-start-the-turtlesim-node">Step 1: Start the Turtlesim Node</a></h3>
<p>First, you need to start the Turtlesim simulation:</p>
<pre><code class="language-bash">ros2 run turtlesim turtlesim_node
</code></pre>
<h3 id="step-2-spawn-a-second-turtle"><a class="header" href="#step-2-spawn-a-second-turtle">Step 2: Spawn a Second Turtle</a></h3>
<p>Next, you will spawn a second turtle using the /spawn service. Open a new terminal and run the following command:</p>
<pre><code class="language-bash">ros2 service call /spawn turtlesim/srv/Spawn "{x: 5.0, y: 5.0, theta: 0.0, name: 'turtle2'}"
</code></pre>
<p>This command will create a second turtle at coordinates (5.0, 5.0) with an orientation of 0 radians, named turtle2.</p>
<h3 id="step-3-publish-a-velocity-command-to-control-the-first-turtle"><a class="header" href="#step-3-publish-a-velocity-command-to-control-the-first-turtle">Step 3: Publish a Velocity Command to Control the First Turtle</a></h3>
<p>Now, you can control the first turtle by publishing velocity commands to its topic. Use the following command to move turtle2:</p>
<pre><code class="language-bash">ros2 topic pub /turtle1/cmd_vel geometry_msgs/msg/Twist "{linear: {x: 2.0, y: 0.0, z: 0.0}, angular: {x: 0.0, y: 0.0, z: 1.0}}"
</code></pre>
<h3 id="step-3-publish-a-velocity-command-to-control-the-second-turtle"><a class="header" href="#step-3-publish-a-velocity-command-to-control-the-second-turtle">Step 3: Publish a Velocity Command to Control the Second Turtle</a></h3>
<p>Now, you can control the second turtle by publishing velocity commands to its topic. Use the following command to move turtle2:</p>
<pre><code class="language-bash">ros2 topic pub /turtle2/cmd_vel geometry_msgs/msg/Twist "{linear: {x: 2.0, y: 0.0, z: 0.0}, angular: {x: 0.0, y: 0.0, z: 0.5}}"
</code></pre>
<p>This command sets the linear velocity to 2.0 (moving forward) and the angular velocity to 1.0 (turning).</p>
<h3 id="conclusion"><a class="header" href="#conclusion">Conclusion</a></h3>
<h4 id="you-have-successfully-created-a-second-turtle-in-the-turtlesim-simulation-and-controlled-it-using-the-ros2-topic-pub-command-you-also-learned-how-to-use-rqt-to-interact-with-ros-services-making-it-easier-to-work-with-ros-functionalities-through-a-graphical-interface"><a class="header" href="#you-have-successfully-created-a-second-turtle-in-the-turtlesim-simulation-and-controlled-it-using-the-ros2-topic-pub-command-you-also-learned-how-to-use-rqt-to-interact-with-ros-services-making-it-easier-to-work-with-ros-functionalities-through-a-graphical-interface">You have successfully created a second turtle in the Turtlesim simulation and controlled it using the ros2 topic pub command. You also learned how to use rqt to interact with ROS services, making it easier to work with ROS functionalities through a graphical interface.</a></h4>
<h4 id="by-following-these-steps-you-can-expand-your-understanding-and-control-of-the-turtlesim-simulation-and-apply-these-skills-to-more-complex-ros-2-projects"><a class="header" href="#by-following-these-steps-you-can-expand-your-understanding-and-control-of-the-turtlesim-simulation-and-apply-these-skills-to-more-complex-ros-2-projects">By following these steps, you can expand your understanding and control of the Turtlesim simulation and apply these skills to more complex ROS 2 projects.</a></h4>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../GSWR2/ros2_overview_of_turtlesim/2_turtle_simulator.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../../GSWR2/ros2_overview_of_turtlesim/4_controlling_2D_turtle_twist_messages.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../GSWR2/ros2_overview_of_turtlesim/2_turtle_simulator.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../../GSWR2/ros2_overview_of_turtlesim/4_controlling_2D_turtle_twist_messages.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script type="text/javascript">
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="../../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript" src="../../sidebar.js"></script>


    </body>
</html>
